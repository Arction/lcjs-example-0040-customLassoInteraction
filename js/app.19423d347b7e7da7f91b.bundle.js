(self.webpackChunk=self.webpackChunk||[]).push([[524],{44:(e,t,n)=>{const s=n(377),{lightningChart:o,emptyFill:l,emptyLine:r,AutoCursorModes:a,Themes:i}=s,d=document.getElementById("chart")||document.body;d===document.body&&(d.style.width="100vw",d.style.height="100vh",d.style.margin="0px"),d.style.display="flex",d.style.flexDirection="row";const c=document.createElement("div"),y=document.createElement("div");d.append(c),d.append(y),c.style.flexGrow="1",c.style.height="100%",y.style.width="50%",y.style.height="100%",y.style.display="none";const m=o({resourcesBaseUrl:new URL(document.head.baseURI).origin+new URL(document.head.baseURI).pathname+"resources/"}),h=m.ChartXY({container:c,theme:i[new URLSearchParams(window.location.search).get("theme")||"darkGold"]||void 0}).setCursorMode(void 0).setTitle("Click to select points, close selection by clicking on polygon corner"),p=m.DataGrid({container:y}).setTitle("Selected samples"),u=new Array(5e3).fill(0).map(((e,t)=>({id:t,x:Math.random()**2,y:Math.random()**1.5}))),g=h.addPointLineAreaSeries({dataPattern:null,sizes:!0}).setAreaFillStyle(l).setStrokeStyle(r).appendJSON(u).fill({size:3}).setPointerEvents(!1);h.setUserInteractions({rectangleZoom:!1});const E=h.addPolygonSeries({automaticColorIndex:2}).setPointerEvents(!1).setCursorEnabled(!1).add([]).setFillStyle((e=>e.setA(50))),x=h.addPointLineAreaSeries({dataPattern:null}).setCursorEnabled(!1);let A;h.seriesBackground.addEventListener("pointermove",(e=>{if(!A||A.closed)return;const t=h.translateCoordinate(e,h.coordsAxis),n=[...A.polygon,t];E.setDimensions(n)})),h.seriesBackground.addEventListener("pointerleave",(e=>{A&&!A.closed&&E.setDimensions(A.polygon)})),h.seriesBackground.addEventListener("click",(e=>{const t=h.translateCoordinate(e,h.coordsAxis);!A||A.closed?(A={polygon:[t]},g.fill({size:3})):A.polygon.push(t),E.setDimensions(A.polygon),x.appendSample(t),p.removeCells()})),x.addEventListener("click",(e=>{A.closed=!0,E.setDimensions(A.polygon),x.clear();const t=A.polygon,n=t.reduce(((e,t)=>Math.min(e,t.x)),Number.MAX_SAFE_INTEGER),s=t.reduce(((e,t)=>Math.max(e,t.x)),-Number.MAX_SAFE_INTEGER),o=t.reduce(((e,t)=>Math.min(e,t.y)),Number.MAX_SAFE_INTEGER),l=t.reduce(((e,t)=>Math.max(e,t.y)),-Number.MAX_SAFE_INTEGER),r=new Array(u.length),a=[["ID","X","Y"]];for(let e=0;e<u.length;e+=1){const i=u[e];let d=!1;i.x>=n&&i.x<=s&&i.y>=o&&i.y<=l&&S(i,t)&&(d=!0),r[e]=d?7:3,d&&a.push([i.id,i.x.toFixed(3),i.y.toFixed(3)])}g.alterSamples(0,{sizes:r}),p.setTableContent(a),y.style.display="block"}));const S=(e,t)=>{const n=e.x,s=e.y;let o=!1;for(let e=0,l=t.length-1;e<t.length;l=e++){const r=t[e].x,a=t[e].y,i=t[l].x,d=t[l].y;a>s!=d>s&&n<(i-r)*(s-a)/(d-a)+r&&(o=!o)}return o}}},e=>{e.O(0,[502],(()=>e(e.s=44))),e.O()}]);